name: Test and deploy code
on:
   push :
     branches : ["main"]
   pull_request :
      branches : ["main"]



jobs:
  dummyfirstjob:
    env:

      DBPASSWORD: BdtyEthyugsJJwsAYUwnIQyPTqTVObEZ
      DBHOST: crossover.proxy.rlwy.net
      DBPORT: 10968
      DBNAME: railway
      DBUSERNAME: postgres
      SECRETKEY: 09d25e094faa6ca2556c818266b7a9563b93f7099f6f0f4caa6cf63b88e8d3e0
      ACCESS_TOKEN_EXPIRES_MINUTES: 30
      ALGORITHM: HS256
      DBURL: postgresql://postgres:BdtyEthyugsJJwsAYUwnIQyPTqTVObEZ@crossover.proxy.rlwy.net:10968/railway

    runs-on: ubuntu-latest
    steps:


        
      - name: check code being pushed
        uses: actions/checkout@v2
      - name: pulling python version 3.12
        uses: actions/setup-python@v6
        with:
          python-version: '3.12' 
      - name: upgrade pip
        run: python -m pip install --upgrade pip
      - name: Install all dependencies
        run: pip install -r requirements.txt
      - name : Run tests on ubuntu machines
        run: pytest




  
